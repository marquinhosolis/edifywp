"use strict";$(document).ready(function(){$("#searchBook").keyup(function(){$(".bookInput").removeClass("bookInput--visible");var o=$(this).val();3<$(this).val().length&&$.ajax({url:"https://www.googleapis.com/books/v1/volumes?langRestrict=pt-BR&q="+o,type:"GET",success:function(o){var t;t=o.items,$(".dropdownBooks ul").children("li").remove(),$(".dropdownBooks").addClass("dropdownBooks--visible"),t.forEach(function(o){$(".dropdownBooks ul").append('<li><div class="bookCover"><div class="content"><img src="https://covers.openlibrary.org/b/isbn/'+o.volumeInfo.industryIdentifiers[0].identifier+'-L.jpg" alt="A guerra dos tronos"/></div></div><div class="bookInfo"><h2>'+o.volumeInfo.title+'</h2><p class="author">'+o.volumeInfo.authors+'</p><p class="pageCount"><span>'+o.volumeInfo.pageCount+'</span> páginas</p> <p class="isbn">ISBN: <span>'+o.volumeInfo.industryIdentifiers[0].identifier+"</span></p></div></li>")})}})}),$(".dropdownBooks").on("click","li",function(){var o,t={};t.title=$(this).find(".bookInfo h2").text(),t.author=$(this).find(".bookInfo p.author").text(),t.pageCount=$(this).find(".bookInfo .pageCount span").text(),t.cover=$(this).find(".bookCover img").attr("src"),t.isbn=$(this).find(".bookInfo .isbn span").text(),localStorage.setItem("selectedBook",JSON.stringify(t)),$(".dropdownBooks").removeClass("dropdownBooks--visible"),$(".apiInput").addClass("bookInput--visible"),o=JSON.parse(localStorage.getItem("selectedBook")),$("#bookIsbnInput").val(o.isbn),$(".apiInput .bookInfo h2").text(o.title),$("#bookTitleInput").val(o.title),$(".apiInput .authorName").text(o.author),$("#bookAuthorInput").val(o.author),$(".apiInput .pages").text(o.pageCount+" páginas"),$("#bookPagesInput").val(o.pageCount),$(".apiInput .bookCover img").attr("src",o.cover),$("#searchBook").val("")}),$(".starsSelect img").click(function(){var o="http://localhost:8000/wp-content/themes/edifyTheme/src/images/star.svg";$(".starsSelect img").attr("src","http://localhost:8000/wp-content/themes/edifyTheme/src/images/star-gray.svg"),$(this).attr("src",o),$(this).prevAll().attr("src",o);var t=$(this).index()+1;$(".bookStarsInput").val(t)}),$(".addManualButton").click(function(){$(".apiInput").removeClass("bookInput--visible"),$(".manualInput").addClass("bookInput--visible")})});